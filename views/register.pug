// Uses bootstrap for styling, must change it to use custom css

doctype html
html
  head
    title Registrar novo usuario
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
  body
    // Barra de navegação superior
    header.navbar.bg-dark.p-3.mb-4
      .container.d-flex.justify-content-between.align-items-center
        a.logo(href="/")
          // Logo clicável que redireciona para a página inicial
          a.logo-text.text-white(href="/") Projetos IOT
        nav.nav-right
          if user
            span.text-white.me-3 Olá, #{user.username}
            a.logout-button.text-white.ms-2(href="/users/logout") Logout
          else
            a.login-button.text-white(href="/users") Login


    // Container para o formulário de registro
    .container.d-flex.justify-content-center.align-items-center(style="height: 100vh;")
      .card.shadow-lg(style="width: 300px;")
        .card-body
          h2.card-title.text-center Registrar
          // Mensagem de erro se houver
          if error
            .alert.alert-danger.text-center.mb-3 #{error}
          form(action="/users/register" method="POST")
            .mb-3
              label.form-label(for="username") Username
              input#username.form-control(type="text" name="username" placeholder="Digite seu usuário" required)
            .mb-3
              label.form-label(for="password") Senha
              input#password.form-control(type="password" name="password" placeholder="Digite sua senha" required)
            .mb-3
              label.form-label(for="project") Projeto
              select#project.form-select(name="project" required)
                option(value="" selected disabled) Selecione um projeto
                option(value="1") Projeto 1
                option(value="2") Projeto 2
            button.btn.btn-primary.w-100(type="submit") Criar conta
